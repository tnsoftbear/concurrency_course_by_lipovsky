Test 'Automaton' FAILED ヽ(｀⌒´)ﾉ: Test subprocess terminated with non-zero exit code: 1, stderr: 
=================================================================
==3760979==ERROR: AddressSanitizer: heap-use-after-free on address 0x60d000000261 at pc 0x55de53cb3ec5 bp 0x7fe44c87b430 sp 0x7fe44c87b428
WRITE of size 1 at 0x60d000000261 thread T0
    #0 0x55de53cb3ec4 in twist::rt::fiber::Atomic<bool>::store(bool, std::__1::memory_order) /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fiber/stdlike/atomic.hpp:55:12
    #1 0x55de53cb3ec4 in twist::rt::fault::FaultyAtomic<bool>::store(bool, std::__1::memory_order) /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fault/stdlike/atomic.hpp:53:11
    #2 0x55de53cb2336 in exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0::operator()() const /workspace/concurrency-course/tasks/tasks/executors/exe/executors/strand.cpp:39:17
    #3 0x55de53cb2336 in decltype(std::forward<exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(fp)()) fu2::abi_400::detail::invocation::invoke<exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:222:10
    #4 0x55de53cb1b24 in fu2::abi_400::detail::type_erasure::invocation_table::function_trait<void ()>::internal_invoker<fu2::abi_400::detail::type_erasure::box<false, exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0, std::__1::allocator<exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0> >, true>::invoke(fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:628:1
    #5 0x55de53cb97dc in decltype(auto) fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::invoke<0ul, fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&>(fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1258:37
    #6 0x55de53cb97dc in fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<0ul, fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >, void ()>::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:816:1
    #7 0x55de53cb97dc in exe::executors::tp::compute::ThreadPool::WorkerRoutine() /workspace/concurrency-course/tasks/tasks/executors/exe/executors/tp/compute/thread_pool.cpp:69:7
    #8 0x55de53cbb562 in exe::executors::tp::compute::ThreadPool::Start()::$_0::operator()() const /workspace/concurrency-course/tasks/tasks/executors/exe/executors/tp/compute/thread_pool.cpp:39:7
    #9 0x55de53cbb562 in decltype(std::forward<exe::executors::tp::compute::ThreadPool::Start()::$_0&>(fp)()) fu2::abi_400::detail::invocation::invoke<exe::executors::tp::compute::ThreadPool::Start()::$_0&>(exe::executors::tp::compute::ThreadPool::Start()::$_0&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:222:10
    #10 0x55de53cbb562 in fu2::abi_400::detail::type_erasure::invocation_table::function_trait<void ()>::internal_invoker<fu2::abi_400::detail::type_erasure::box<false, exe::executors::tp::compute::ThreadPool::Start()::$_0, std::__1::allocator<exe::executors::tp::compute::ThreadPool::Start()::$_0> >, true>::invoke(fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:628:1
    #11 0x55de53cc2754 in decltype(auto) fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::invoke<0ul, fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&>(fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1258:37
    #12 0x55de53cc2754 in fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<0ul, fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >, void ()>::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:816:1
    #13 0x55de53cc2754 in twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fault/stdlike/thread.cpp:15:9
    #14 0x55de53cc2754 in decltype(std::forward<twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(fp)()) fu2::abi_400::detail::invocation::invoke<twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:222:10
    #15 0x55de53c6838e in decltype(auto) fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::invoke<0ul, fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&>(fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1258:37
    #16 0x55de53c6838e in fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<0ul, fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >, void ()>::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:816:1
    #17 0x55de53c6838e in twist::rt::fiber::Fiber::Run() /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fiber/runtime/fiber.cpp:29:5

0x60d000000261 is located 129 bytes inside of 144-byte region [0x60d0000001e0,0x60d000000270)
freed by thread T0 here:
    #0 0x55de53bb9c1d in operator delete(void*) (/tmp/clippy-build/FaultyFibersASan/tasks/tasks/executors/bin/task_tasks_executors_strand_lifetime_tests+0x19ec1d) (BuildId: 95b05d960a7fa30bfbdd8580597104bc75103def)
    #1 0x55de53bbe38c in Automaton::AsyncMutate()::'lambda'()::~() /workspace/concurrency-course/tasks/tasks/executors/tests/executors/strand/lifetime.cpp:22:32
    #2 0x55de53bbe38c in fu2::abi_400::detail::type_erasure::box<false, Automaton::AsyncMutate()::'lambda'(), std::__1::allocator<Automaton::AsyncMutate()::'lambda'()> >::~box() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:403:18
    #3 0x55de53bbe38c in void fu2::abi_400::detail::type_erasure::tables::vtable<fu2::abi_400::detail::property<true, false, void ()> >::trait<fu2::abi_400::detail::type_erasure::box<false, Automaton::AsyncMutate()::'lambda'(), std::__1::allocator<Automaton::AsyncMutate()::'lambda'()> > >::process_cmd<true>(fu2::abi_400::detail::type_erasure::tables::vtable<fu2::abi_400::detail::property<true, false, void ()> >*, fu2::abi_400::detail::type_erasure::tables::opcode, fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long, fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:912:19
    #4 0x55de53cb2255 in fu2::abi_400::detail::type_erasure::tables::vtable<fu2::abi_400::detail::property<true, false, void ()> >::weak_destroy(fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1022:5
    #5 0x55de53cb2255 in fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::~erasure() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1189:13
    #6 0x55de53cb2255 in fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::~function() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1550:23
    #7 0x55de53cb2255 in exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0::operator()() const /workspace/concurrency-course/tasks/tasks/executors/exe/executors/strand.cpp:38:5
    #8 0x55de53cb2255 in decltype(std::forward<exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(fp)()) fu2::abi_400::detail::invocation::invoke<exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:222:10
    #9 0x55de53cb1b24 in fu2::abi_400::detail::type_erasure::invocation_table::function_trait<void ()>::internal_invoker<fu2::abi_400::detail::type_erasure::box<false, exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0, std::__1::allocator<exe::executors::Strand::Submit(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0> >, true>::invoke(fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:628:1
    #10 0x55de53cb97dc in decltype(auto) fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::invoke<0ul, fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&>(fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1258:37
    #11 0x55de53cb97dc in fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<0ul, fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >, void ()>::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:816:1
    #12 0x55de53cb97dc in exe::executors::tp::compute::ThreadPool::WorkerRoutine() /workspace/concurrency-course/tasks/tasks/executors/exe/executors/tp/compute/thread_pool.cpp:69:7
    #13 0x55de53cbb562 in exe::executors::tp::compute::ThreadPool::Start()::$_0::operator()() const /workspace/concurrency-course/tasks/tasks/executors/exe/executors/tp/compute/thread_pool.cpp:39:7
    #14 0x55de53cbb562 in decltype(std::forward<exe::executors::tp::compute::ThreadPool::Start()::$_0&>(fp)()) fu2::abi_400::detail::invocation::invoke<exe::executors::tp::compute::ThreadPool::Start()::$_0&>(exe::executors::tp::compute::ThreadPool::Start()::$_0&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:222:10
    #15 0x55de53cbb562 in fu2::abi_400::detail::type_erasure::invocation_table::function_trait<void ()>::internal_invoker<fu2::abi_400::detail::type_erasure::box<false, exe::executors::tp::compute::ThreadPool::Start()::$_0, std::__1::allocator<exe::executors::tp::compute::ThreadPool::Start()::$_0> >, true>::invoke(fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:628:1
    #16 0x55de53cc2754 in decltype(auto) fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::invoke<0ul, fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&>(fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1258:37
    #17 0x55de53cc2754 in fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<0ul, fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >, void ()>::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:816:1
    #18 0x55de53cc2754 in twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fault/stdlike/thread.cpp:15:9
    #19 0x55de53cc2754 in decltype(std::forward<twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(fp)()) fu2::abi_400::detail::invocation::invoke<twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&>(twist::rt::fault::FaultyThread::FaultyThread(fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >)::$_0&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:222:10
    #20 0x55de53c6838e in decltype(auto) fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::invoke<0ul, fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&>(fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1258:37
    #21 0x55de53c6838e in fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<0ul, fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >, void ()>::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:816:1
    #22 0x55de53c6838e in twist::rt::fiber::Fiber::Run() /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fiber/runtime/fiber.cpp:29:5

previously allocated by thread T0 here:
    #0 0x55de53bb93bd in operator new(unsigned long) (/tmp/clippy-build/FaultyFibersASan/tasks/tasks/executors/bin/task_tasks_executors_strand_lifetime_tests+0x19e3bd) (BuildId: 95b05d960a7fa30bfbdd8580597104bc75103def)
    #1 0x55de53bbfeca in void* std::__1::__libcpp_operator_new<unsigned long>(unsigned long) /usr/lib/llvm-14/bin/../include/c++/v1/new:245:10
    #2 0x55de53bbfeca in std::__1::__libcpp_allocate(unsigned long, unsigned long) /usr/lib/llvm-14/bin/../include/c++/v1/new:271:10
    #3 0x55de53bbfeca in std::__1::allocator<std::__1::__shared_ptr_emplace<Automaton, std::__1::allocator<Automaton> > >::allocate(unsigned long) /usr/lib/llvm-14/bin/../include/c++/v1/__memory/allocator.h:105:38
    #4 0x55de53bbfeca in std::__1::allocator_traits<std::__1::allocator<std::__1::__shared_ptr_emplace<Automaton, std::__1::allocator<Automaton> > > >::allocate(std::__1::allocator<std::__1::__shared_ptr_emplace<Automaton, std::__1::allocator<Automaton> > >&, unsigned long) /usr/lib/llvm-14/bin/../include/c++/v1/__memory/allocator_traits.h:262:20
    #5 0x55de53bbfeca in std::__1::__allocation_guard<std::__1::allocator<std::__1::__shared_ptr_emplace<Automaton, std::__1::allocator<Automaton> > > >::__allocation_guard<std::__1::allocator<Automaton> >(std::__1::allocator<Automaton>, unsigned long) /usr/lib/llvm-14/bin/../include/c++/v1/__memory/allocation_guard.h:53:18
    #6 0x55de53bbfeca in std::__1::shared_ptr<Automaton> std::__1::allocate_shared<Automaton, std::__1::allocator<Automaton>, exe::executors::tp::compute::ThreadPool&, void>(std::__1::allocator<Automaton> const&, exe::executors::tp::compute::ThreadPool&) /usr/lib/llvm-14/bin/../include/c++/v1/__memory/shared_ptr.h:953:48
    #7 0x55de53bbbc57 in std::__1::shared_ptr<Automaton> std::__1::make_shared<Automaton, exe::executors::tp::compute::ThreadPool&, void>(exe::executors::tp::compute::ThreadPool&) /usr/lib/llvm-14/bin/../include/c++/v1/__memory/shared_ptr.h:963:12
    #8 0x55de53bbbc57 in StressTest() /workspace/concurrency-course/tasks/tasks/executors/tests/executors/strand/lifetime.cpp:44:22
    #9 0x55de53bbcf33 in TestSuiteStrand::TwistTestRoutineAutomaton() /workspace/concurrency-course/tasks/tasks/executors/tests/executors/strand/lifetime.cpp:63:5
    #10 0x55de53bbcf33 in TestSuiteStrand::TestRoutineAutomaton()::$_0::operator()() const /workspace/concurrency-course/tasks/tasks/executors/tests/executors/strand/lifetime.cpp:62:3
    #11 0x55de53bbcf33 in decltype(std::forward<TestSuiteStrand::TestRoutineAutomaton()::$_0&>(fp)()) fu2::abi_400::detail::invocation::invoke<TestSuiteStrand::TestRoutineAutomaton()::$_0&>(TestSuiteStrand::TestRoutineAutomaton()::$_0&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:222:10
    #12 0x55de53bbcf33 in fu2::abi_400::detail::type_erasure::invocation_table::function_trait<void ()>::internal_invoker<fu2::abi_400::detail::type_erasure::box<false, TestSuiteStrand::TestRoutineAutomaton()::$_0, std::__1::allocator<TestSuiteStrand::TestRoutineAutomaton()::$_0> >, true>::invoke(fu2::abi_400::detail::type_erasure::data_accessor*, unsigned long) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:628:1
    #13 0x55de53c6838e in decltype(auto) fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >::invoke<0ul, fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&>(fu2::abi_400::detail::type_erasure::erasure<true, fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >&) /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:1258:37
    #14 0x55de53c6838e in fu2::abi_400::detail::type_erasure::invocation_table::operator_impl<0ul, fu2::abi_400::detail::function<fu2::abi_400::detail::config<true, false, fu2::capacity_default>, fu2::abi_400::detail::property<true, false, void ()> >, void ()>::operator()() /tmp/clippy-build/FaultyFibersASan/_deps/function2-src/include/function2/function2.hpp:816:1
    #15 0x55de53c6838e in twist::rt::fiber::Fiber::Run() /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fiber/runtime/fiber.cpp:29:5

SUMMARY: AddressSanitizer: heap-use-after-free /tmp/clippy-build/FaultyFibersASan/_deps/twist-src/twist/rt/layer/fiber/stdlike/atomic.hpp:55:12 in twist::rt::fiber::Atomic<bool>::store(bool, std::__1::memory_order)
Shadow bytes around the buggy address:
  0x0c1a7fff7ff0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0c1a7fff8000: fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd
  0x0c1a7fff8010: fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa
  0x0c1a7fff8020: fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0c1a7fff8030: 00 00 00 02 fa fa fa fa fa fa fa fa fd fd fd fd
=>0x0c1a7fff8040: fd fd fd fd fd fd fd fd fd fd fd fd[fd]fd fa fa
  0x0c1a7fff8050: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c1a7fff8060: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c1a7fff8070: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c1a7fff8080: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c1a7fff8090: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==3760979==ABORTING
